### xeDebug started on node011.bosccluster.com, 03/06/2025 16:45:34.

#source /nfs/home/youkunlin/workspace/micro/EBINSD/XiangShan/difftest/scripts/palladium/run.tcl
XE> debug .
debug .
XE> host $env(PLDM_HOST)
host $env(PLDM_HOST)
INFO (legacy-0): Opening Reduced PDB...
INFO (legacy-39111): Opening PDB hdldb xcva_top (of=8).
INFO (legacy-51751): Setting emulator to bjos_emu from host command. DBEngine host is node011.
INFO (legacy-0): 268844 critical net names have been restored: elapsed time 2 sec
INFO (legacy-51832): An InfiniBand connection was verified from host node011 to bjos_emu.
WARNING (legacy-52793): Can't check compatibility for configmgr 'V21.02.201.s005' with xeDebug '23.03.131.s001'.
INFO (legacy-131313): checkCfigmgrVersion: configmgr version='V21.02.201.s005' rel=21  major=2  minor=201
xrun -R -disxedebug -64bit +xcprof -profile -PROFTHREAD -sv_lib /nfs/home/youkunlin/workspace/micro/EBINSD/XiangShan/build/pldm-compile/libdpi_emu.so +diff=../../ready-to-run/riscv64-nemu-interpreter-so +workload=../../ready-to-run/linux.bin -f tmp/sim.args 
INFO (legacy-51578): Opened xeConnect port 35263 on host node011 (172.18.20.11) for xeDebug process 1295072.
DBEngine - 23H1_VXE, V23.03.131.s001            

INFO (legacy-50842): Found engineering version: et6api is 10 days old.  It will expire in 74 days.
INFO (legacy-47055): Running in design directory: '/nfs/home/youkunlin/workspace/micro/EBINSD/XiangShan/build/pldm-compile'
TOOL:	xrun(64)	22.09-s009: Started on Mar 06, 2025 at 16:45:38 CST
xrun(64): 22.09-s009: (c) Copyright 1995-2023 Cadence Design Systems, Inc.
INFO (legacy-0): strtab(segs and data) has been restored: elapsed time 5 sec
Loading snapshot xc_ncwork.tb_top:module .................... Done
*Verdi* Loading libsscore_xcelium171.so
INFO (legacy-0): sigmap has been restored: elapsed time 1 sec
Log started on host: node011.bosccluster.com pid: 1295873 at: Thu Mar  6 16:45:40 2025

libxcrt IXCOM, V22.04.225.s003             
xcelium> source /nfs/tools/Cadence/IXCOM22.04.s003/tools.lnx86/etc/ixcom/xc.tcl
xcelium> source /nfs/tools/Cadence/VXE23.03.s001/tools.lnx86/etc/qel/xmrun.qel

INFO (legacy-0): 3358 cells have been restored: elapsed time 14 sec
INFO (legacy-0): 1 smTrPrims have been restored: elapsed time 0 sec
INFO (legacy-0): 23544343 smTrNets have been restored: elapsed time 0 sec
INFO (legacy-0): flat-conns have been restored: elapsed time 0 sec
INFO (legacy-0): 47308593 synonyms have been setup: elapsed time 1 sec
INFO (legacy-0): smNetIDs have been setup: elapsed time 1 sec
INFO (legacy-0): CRT-FULL has been restored: elapsed time 0 sec
XEsim> xc on -zt0 -xt0 -tbrun
xc on -zt0 -xt0 -tbrun
INFO (legacy-44626): PXP_Z1: Acquired 'Palladium_Z1_Domain' license, version '23.0'.
INFO (legacy-50779): Download Info: boards 0.0+0.1+1+2 
REPORT: Loading side file ucdbInfoFile total time 0.27 real, 0.76 cpu(0.52u+0.24s), 281%, memory 0M.
INFO: Configmgr IP Address 172.18.68.189 found on Network Interface eno8303
Configuring UA
--- HW execs config in 16.64 sec
XEin> date
date
Thu Mar  6 16:46:12 CST 2025
XEin> run -swap
run -swap
ram image:../../ready-to-run/linux.bin
diff-test ref so:../../ready-to-run/riscv64-nemu-interpreter-so
tb_top.sim.memory.ram.rdata_mem.helper_0: load     3849784 bytes from ../../ready-to-run/linux.bin.
tb_top.sim.memory.ram.rdata_mem.helper_1: load     3849784 bytes from ../../ready-to-run/linux.bin.
tb_top.sim.memory.ram.rdata_mem.helper_2: load     3849784 bytes from ../../ready-to-run/linux.bin.
tb_top.sim.memory.ram.rdata_mem.helper_3: load     3849784 bytes from ../../ready-to-run/linux.bin.
Starting swap into the emulator.
Finished swap into the emulator.
--- Using XCELIUM SIGPROF CallBack for profiling ----
--- HW execs swapin in 14.81 sec
--- xc tbrun: current sim time = 0 FS
Memory Usage - Current physical: 9977.2M, Current virtual: 22905.7M
CPU Usage - 4.2s system + 10.6s user = 14.8s total (29.5% cpu)
Simulation stopped via $stop(2) at time 0 FS + 77
XErun> run
run
simv compiled at Mar  6 2025, 15:44:27
Using simulated 8386560MB RAM
The image is ../../ready-to-run/linux.bin
Using simulated 32768B flash
The reference model is ../../ready-to-run/riscv64-nemu-interpreter-so
The first instruction of core 0 has commited. Difftest enabled. 

OpenSBI v1.4
   ____                    _____ ____ _____
  / __ \                  / ____|  _ \_   _|
 | |  | |_ __   ___ _ __ | (___ | |_) || |
 | |  | | '_ \ / _ \ '_ \ \___ \|  _ < | |
 | |__| | |_) |  __/ | | |____) | |_) || |_
  \____/| .__/ \___|_| |_|_____/|____/_____|
        | |
        |_|

Platform Name             : xiangshan,xiangshan-kunminghu
Platform Features         : medeleg
Platform HART Count       : 1
Platform IPI Device       : aclint-mswi
Platform Timer Device     : aclint-mtimer @ 1000000Hz
Platform Console Device   : xlnx-uartlite
Platform HSM Device       : ---
Platform PMU Device       : ---
Platform Reboot Device    : ---
Platform Shutdown Device  : ---
Platform Suspend Device   : ---
Platform CPPC Device      : ---
Firmware Base             : 0x80000000
Firmware Size             : 323 KB
Firmware RW Offset        : 0x40000
Firmware RW Size          : 67 KB
Firmware Heap Offset      : 0x48000
Firmware Heap Size        : 35 KB (total), 2 KB (reserved), 9 KB (used), 23 KB (free)
Firmware Scratch Size     : 4096 B (total), 328 B (used), 3768 B (free)
Runtime SBI Version       : 2.0

Domain0 Name              : root
Domain0 Boot HART         : 0
Domain0 HARTs             : 0*
Domain0 Region00          : 0x0000000038000000-0x000000003800ffff M: (I,R,W) S/U: ()
Domain0 Region01          : 0x0000000080040000-0x000000008005ffff M: (R,W) S/U: ()
Domain0 Region02          : 0x0000000080000000-0x000000008003ffff M: (R,X) S/U: ()
Domain0 Region03          : 0x000000003c000000-0x000000003fffffff M: (I,R,W) S/U: (R,W)
Domain0 Region04          : 0x0000000000000000-0xffffffffffffffff M: () S/U: (R,W,X)
Domain0 Next Address      : 0x0000000080200000
Domain0 Next Arg1         : 0x0000000082200000
Domain0 Next Mode         : S-mode
Domain0 SysReset          : yes
Domain0 SysSuspend        : yes

Boot HART ID              : 0
Boot HART Domain          : root
Boot HART Priv Version    : v1.12
Boot HART Base ISA        : rv64imafdcbvh
Boot HART ISA Extensions  : smaia,smstateen,sscofpmf,sstc,zicntr,zihpm
Boot HART PMP Count       : 16
Boot HART PMP Granularity : 12 bits
Boot HART PMP Address Bits: 46
Boot HART MHPM Info       : 29 (0xfffffff8)
Boot HART MIDELEG         : 0x0000000000003666
Boot HART MEDELEG         : 0x0000000000f0b509
[    0.000000] Linux version 6.1.83 (xuzefan@open10) (riscv64-unknown-linux-gnu-gcc (gfbfa8d9ad49) 10.2.0, GNU ld (GNU Binutils) 2.36.1) #3 Mon Apr  1 15:14:21 CST 2024
[    0.000000] OF: fdt: Ignoring memory range 0x80000000 - 0x80200000
[    0.000000] Machine model: xiangshan,xiangshan-kunminghu
[    0.000000] earlycon: sbi0 at I/O port 0x0 (options '')
[    0.000000] printk: bootconsole [sbi0] enabled
[    0.000000] Zone ranges:
[    0.000000]   DMA32    [mem 0x0000000080200000-0x0000000081ffffff]
[    0.000000]   Normal   empty
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x0000000080200000-0x0000000081ffffff]
[    0.000000] Initmem setup node 0 [mem 0x0000000080200000-0x0000000081ffffff]
[    0.000000] SBI specification v2.0 detected
[    0.000000] SBI implementation ID=0x1 Version=0x10004
[    0.000000] SBI TIME extension detected
[    0.000000] SBI IPI extension detected
[    0.000000] SBI RFENCE extension detected
[    0.000000] riscv: base ISA extensions acdfim
[    0.000000] riscv: ELF capabilities acdfim
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 7575
[    0.000000] Kernel command line: console=hvc0 earlycon=sbi
[    0.000000] Dentry cache hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    0.000000] Inode-cache hash table entries: 2048 (order: 2, 16384 bytes, linear)
[    0.000000] mem auto-init: stack:off, heap alloc:off, heap free:off
[    0.000000] Memory: 28332K/30720K available (866K kernel code, 199K rwdata, 119K rodata, 521K init, 117K bss, 2388K reserved, 0K cma-reserved)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS: 64, nr_irqs: 64, preallocated irqs: 0
[    0.000000] riscv-intc: 64 local interrupts mapped
[    0.000000] plic: interrupt-controller@3c000000: mapped 64 interrupts with 1 handlers for 2 contexts.
[    0.000000] riscv-timer: riscv_timer_init_dt: Registering clocksource cpuid [0] hartid [0]
[    0.000000] clocksource: riscv_clocksource: mask: 0xffffffffffffffff max_cycles: 0x1d854df40, max_idle_ns: 3526361616960 ns
[    0.000003] sched_clock: 64 bits at 1000kHz, resolution 1000ns, wraps every 2199023255500ns
[    0.000609] printk: console [hvc0] enabled
[    0.000609] printk: console [hvc0] enabled
[    0.001097] printk: bootconsole [sbi0] disabled
[    0.001097] printk: bootconsole [sbi0] disabled
[    0.001720] Calibrating delay loop (skipped), value calculated using timer frequency.. 2.00 BogoMIPS (lpj=10000)
[    0.002320] pid_max: default: 4096 minimum: 301
[    0.003179] Mount-cache hash table entries: 512 (order: 0, 4096 bytes, linear)
[    0.003616] Mountpoint-cache hash table entries: 512 (order: 0, 4096 bytes, linear)
[    0.005428] ASID allocator using 16 bits (65536 entries)
[    0.006205] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns
[NEMU]: force raise SPF
[    0.008788] clocksource: Switched to clocksource riscv_clocksource
[    0.013313] workingset: timestamp_bits=62 max_order=13 bucket_order=0
[    0.037571] Freeing unused kernel image (initmem) memory: 520K
[    0.037948] Kernel memory protection not selected by kernel config.
[    0.038313] Run /init as init process
          .
         /.\
        // \\
  /\\  //   \\  //\
 // \\//     \\// \\    __  ___                   ____  _
/O                 \O   \ \/ (_) __ _ _ __   __ _/ ___|| |__   __ _ _ __
@@@@@@/@@@|@@@\@@@@@@    \  /| |/ _` | '_ \ / _` \___ \| '_ \ / _` | '_ \
 @@--/@@_/|\@@@\__@@     /  \| | (_| | | | | (_|Core 0: [32mHIT GOOD TRAP at pc = 0x1063c
[0m[35mCore-0 instrCnt = 21451959, cycleCnt = 8224181, IPC = 2.608401
[0m==================== Difftest PerfCnt ====================
Run time: 17 s 201 ms
Simulation speed: 478.12 KHz
                     DPIC_FUNC      DPIC_CALLS      DPIC_CALLS/s       DPIC_BYTES       DPIC_BYTES/s
>>> DiffState Func
              v_difftest_Batch           46791            2720/s       187164000B        10880995B/s
             Batch_RefillEvent          593369           34496/s        45096044B         2621710B/s
              Batch_L1TLBEvent          526310           30597/s        23157640B         1346296B/s
             Batch_InstrCommit          336007           19534/s        10080210B          586024B/s
               Batch_TrapEvent           67208            3907/s         2352280B          136752B/s
               Batch_ArchEvent            3917             227/s           94008B            5465B/s
      Batch_CriticalErrorEvent               0               0/s               0B               0B/s
Batch_NonRegInterruptPendingEvent               6               0/s              72B               4B/s
  Batch_MhpmeventOverflowEvent               0               0/s               0B               0B/s
            Batch_SyncAIAEvent               0               0/s               0B               0B/s
Batch_SyncCustomMflushpwrEvent               0               0/s               0B               0B/s
              Batch_L2TLBEvent               6               0/s             840B              48B/s
             Batch_AtomicEvent            7421             431/s          452681B           26317B/s
               Batch_LrScEvent            1203              69/s            3609B             209B/s
           Batch_CMOInvalEvent               0               0/s               0B               0B/s
            Batch_SbufferEvent          200017           11628/s        16601411B          965142B/s
              Batch_CommitData          109325            6355/s         1202575B           69913B/s
              Batch_StoreEvent         1781939          103595/s        57022048B         3315042B/s
     Batch_ArchIntRegStateElem          770005           44765/s         7700050B          447651B/s
      Batch_ArchFpRegStateElem              96               5/s             960B              55B/s
     Batch_ArchVecRegStateElem              64               3/s             640B              37B/s
            Batch_CSRStateElem           25639            1490/s          256390B           14905B/s
           Batch_DebugModeElem               3               0/s              30B               1B/s
     Batch_TriggerCSRStateElem               2               0/s              20B               1B/s
         Batch_VecCSRStateElem               5               0/s              50B               2B/s
          Batch_FpCSRStateElem               0               0/s               0B               0B/s
           Batch_HCSRStateElem               3               0/s              30B               1B/s
                 DIFFSTATE_SUM         4422545          257109/s       164021588B         9535584B/s
>>> Other Difftest Func
             difftest_ram_read               0               0/s               0B               0B/s
            difftest_ram_write               0               0/s               0B               0B/s
                    flash_read               0               0/s               0B               0B/s
                   sd_set_addr               0               0/s               0B               0B/s
                       sd_read               0               0/s               0B               0B/s
                     jtag_tick               0               0/s               0B               0B/s
                     put_pixel               0               0/s               0B               0B/s
                     vmem_sync               0               0/s               0B               0B/s
                    pte_helper               0               0/s               0B               0B/s
                    amo_helper               0               0/s               0B               0B/s
 |___) | | | | (_| | | | |
@@@@/@@@@@|@@\@@\@@@@   /_/\_\_|\__,_|_| |_|\__, |____/|_| |_|\__,_|_| |_|
    @ @@/@|\@@@ @                           |___/
      @@@@|@@@@
      @  @|@  @
          @
Hello, XiangShan!
DIFFTEST WORKLOAD DONE at cycle              8225343
--- HW execs 6254 tbcall syncs
--- HW execs 1 memory read 1 write
--- HW execs 16450889 evals 0 bevals 18818201 cfclks 6254 tbsyncs 22938171 fclks in 17.75 sec (1.08 us/eval; 926619.44 eval/sec; 17.44 CPU sec)
--- HW execs emulator busy 14.16 sec (79.76%)
--- HW execs 2354801 gfifo-wait evals (2216888 gbfull, 131660 lbfull, 6253 gftbsync) in 1.77 sec (9.98% total, 12.51% emu)
--- HW execs 6254 output events
--- HW execs emulator command line session time 18.03 sec (17.44 CPU sec)
--- xc Profile: (%)
	    82.92    HW-EMU-TBRUN (Elapsed: 14.72 sec)
	                    |---- GFIFO (71.58 %, 10.54 sec)
	                             |-- GFIFO-DXFR (9.15 %, 0.96 sec)
	                             |-- GFIFO-USER-CODE (90.74 %, 9.56 sec)

	    14.32          SW-SIM (Elapsed: 2.54 sec)
	                    |---- GFIFO (4.13 %, 0.11 sec)
	                             |-- GFIFO-DXFR (42.31 %, 0.04 sec)
	                             |-- GFIFO-USER-CODE (57.69 %, 0.06 sec)

	     2.74         XCRT-OH (Elapsed: 0.49 sec)

	     0.01          DECODE (Elapsed: 0.00 sec)


Log end: Thu Mar  6 16:46:46 2025

--- HW execs Memory read with Infiniband 693758 times, transferred 204209048 bytes in 4.3962 sec (46.451 MB/sec)
--- HW execs Memory write with Infiniband 1303 times, transferred 39114442 bytes in 5.6809 sec (6.885 MB/sec)
--- HW execs Memory read with DBEngine 0 times
--- HW execs Memory write with DBEngine 0 times
--- HW execs Memory access during Swap-In 434 times, transferred 39107438 bytes in 5.6751 sec (6.891 MB/sec)
--- HW execs Memory access during Swap-Out 0 times
Simulation complete via $finish(1) at time 16450889 NS + 1
./xc_work/v/1857n.sv:281  $finish;
XErun> exit
exit
TOOL:	xrun(64)	22.09-s009: Exiting on Mar 06, 2025 at 16:46:47 CST  (total: 00:01:09)
INFO (legacy-44635): Checking in all checked-out licenses.
INFO (legacy-44635): PXP_Z1: Checking in 'Palladium_Z1_Domain' license.
