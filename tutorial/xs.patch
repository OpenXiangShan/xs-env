From a42b73bcbed3d64a21c5e891d00834a6f0f2c08d Mon Sep 17 00:00:00 2001
From: Guokai Chen <chenguokai17@mails.ucas.ac.cn>
Date: Wed, 22 Mar 2023 14:11:39 +0800
Subject: [PATCH] lsq constantin patch

---
 src/main/scala/xiangshan/mem/lsqueue/LoadQueue.scala | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/src/main/scala/xiangshan/mem/lsqueue/LoadQueue.scala b/src/main/scala/xiangshan/mem/lsqueue/LoadQueue.scala
index 17f516ae2..dc37b5bb8 100644
--- a/src/main/scala/xiangshan/mem/lsqueue/LoadQueue.scala
+++ b/src/main/scala/xiangshan/mem/lsqueue/LoadQueue.scala
@@ -183,6 +183,10 @@ class LoadQueue(implicit p: Parameters) extends XSModule
   val block_cycles_tlb = Reg(Vec(4, UInt(ReSelectLen.W)))
   block_cycles_tlb := io.tlbReplayDelayCycleCtrl
   val block_cycles_cache = RegInit(VecInit(Seq(11.U(ReSelectLen.W), 18.U(ReSelectLen.W), 127.U(ReSelectLen.W), 17.U(ReSelectLen.W))))
+  block_cycles_cache(0) := Constantin.createRecord("block_cycles_cache_0")
+  block_cycles_cache(1) := Constantin.createRecord("block_cycles_cache_1")
+  block_cycles_cache(2) := Constantin.createRecord("block_cycles_cache_2")
+  block_cycles_cache(3) := Constantin.createRecord("block_cycles_cache_3")
   val block_cycles_others = RegInit(VecInit(Seq(0.U(ReSelectLen.W), 0.U(ReSelectLen.W), 0.U(ReSelectLen.W), 0.U(ReSelectLen.W))))
 
   XSPerfAccumulate("block_in_last", PopCount((0 until LoadQueueSize).map(i => block_ptr_cache(i) === 3.U)))
-- 
2.35.1

